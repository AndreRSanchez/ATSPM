@model MOE.Common.Models.ViewModel.Chart.DefaultChartsViewModel
@using MOE.Common.Models
<script charset="UTF-8" type="text/javascript" src="www.bing.com/api/maps/mapcontrol?callback=GetMap" async defer></script>
@*<script>
    function AddData() {
        var regionDdl = $('#Regions')[0];
        var regionFilter = 0
        if (regionDdl.options[regionDdl.selectedIndex].value != '') {
            regionFilter = regionDdl.options[regionDdl.selectedIndex].value;
        }
        var reportType = $('#MetricTypes')[0];
        var reportTypeFilter = 0;
        if (reportType.options[reportType.selectedIndex].value != '') {
            reportTypeFilter = reportType.options[reportType.selectedIndex].value;
        }
        @foreach (MOE.Common.Business.Pin p in Model.Pins)
            {
            <text>
        var pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(@(p.Latitude), @(p.Longitude)));
        pin.SignalId = @(p.SignalId);
        pin.Region = @(p.Region);
        pin.Title =  "@(p.SignalId)  @(p.Description)";</text>
        
        <text>
        pin.Actions = "@(p.MetricTypes)";
        Microsoft.Maps.Events.addHandler(pin, 'mouseup', ZoomIn);
        Microsoft.Maps.Events.addHandler(pin, 'click', displayInfobox);
        dataLayer.push(pin);
        </text>
            }
    }
</script>*@
<div id="mapDiv" class="MapDiv"></div>
<script src="~/Scripts/AddData.js"></script>